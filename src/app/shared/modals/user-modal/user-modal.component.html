<ion-content>
    <ion-toolbar text-center>
        <h1>Update {{ firstName }}'s Profile</h1>
        <h3>Items marked with asterisk (*) required</h3>
        <ion-buttons slot="end">
            <ion-button shape="round" size="small" fill="solid"
                        color="warning" (click)="closeModal()">
                Cancel
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
    <ion-grid padding-top>
        <ion-row>
            <ion-col size="12">
                <ion-header text-center>
                    <ion-toolbar>
                        <ion-avatar class="centerAvatar"><img src="{{ photoURL }}"></ion-avatar>
                        <ion-button (click)="onResetPassword(email)">Reset Password</ion-button>
                        <ion-button (click)="editProfilePic = !editProfilePic">Change Picture</ion-button>
                    </ion-toolbar>
                </ion-header>
                <app-uploader *ngIf="editProfilePic" [memberId]="uid"></app-uploader>
                <form [formGroup]="userForm" (ngSubmit)="onUpdateUser()">
                    <div formGroupName="displayName">
                        <ion-item>
                            <ion-label position="floating">First Name *</ion-label>
                            <ion-input type="text" formControlName="firstName" required></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label position="floating">Last Name *</ion-label>
                            <ion-input type="text" formControlName="lastName" required></ion-input>
                        </ion-item>
                    </div>
                    <div formGroupName="address">
                        <ion-item>
                            <ion-label position="floating">Street Number *</ion-label>
                            <ion-input type="text" formControlName="streetNumber" required></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label position="floating">Street Name *</ion-label>
                            <ion-input type="text" formControlName="streetName" required></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label position="floating">More Address Info</ion-label>
                            <ion-input type="text" formControlName="subAddress"></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label position="floating">City *</ion-label>
                            <ion-input type="text" formControlName="city" required></ion-input>
                        </ion-item><ion-item>
                        <ion-label position="floating">State *</ion-label>
                        <ion-input type="text" formControlName="state" required></ion-input>
                    </ion-item>
                        <ion-item>
                            <ion-label position="floating">Zip Code *</ion-label>
                            <ion-input type="text" formControlName="zipCode" required></ion-input>
                        </ion-item>
                    </div>
                    <ion-item>
                        <ion-label position="floating" text-wrap>Phone *
                            <span class="formInfo">(ex: 404-444-4444)</span></ion-label>
                        <ion-input type="tel" formControlName="phone" required></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-label position="floating" text-wrap>Email
                            <span class="formInfo">(only admin can change)</span></ion-label>
                        <ion-input type="email" formControlName="email" required readonly></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-label position="floating">Occupation</ion-label>
                        <ion-input type="text" formControlName="occupation"></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-label position="floating">Birthday</ion-label>
                        <ion-input type="date" formControlName="birthDate"></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-label text-wrap>Show My Birthday in Directory (Month/Day)</ion-label>
                        <ion-list slot="end">
                            <ion-radio-group (ionChange)="radioSelect($event)">
                                <ion-item *ngFor="let item of radioList">
                                   <ion-label>{{ item.text }}</ion-label>
                                    <ion-radio
                                    value= "{{ item.value }}"
                                    checked="{{ item.checked }}"
                                    color="{{ item.color }}"></ion-radio>
                                </ion-item>
                            </ion-radio-group>
                        </ion-list>
                    </ion-item>
                    <ion-item>
                        <ion-label position="floating">Resident Since</ion-label>
                        <ion-input type="date" formControlName="residentSince"></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-label position="floating" text-wrap >Spouse/Partner Name</ion-label>
                        <ion-avatar class="spAvatar" *ngIf="spPhotoURL !=''" slot="start">
                            <img src="{{ spPhotoURL }}">
                        </ion-avatar>
                        <ion-input type="text" formControlName="spFirstName"
                                   placeholder="First Name">
                        </ion-input>
                        <ion-input type="text" formControlName="spLastName"
                                   placeholder="Last Name">
                        </ion-input>
                    </ion-item>
                    <ion-button expand="block" type="submit" [disabled]="!userForm.valid" >
                        Update Now
                    </ion-button>
                </form>
            </ion-col>
        </ion-row>
    </ion-grid>
    <ion-toolbar>
        <ion-buttons slot="end">
            <ion-button shape="round" size="small" fill="solid"
                        color="warning" (click)="closeModal()">
                Cancel
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-content>

